(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59fd6688"],{"03c6":function(t,e,i){},"0b54":function(t,e,i){"use strict";var a=i("b828"),o=i.n(a);o.a},5319:function(t,e,i){"use strict";var a=i("d784"),o=i("825a"),n=i("7b0b"),r=i("50c4"),s=i("a691"),c=i("1d80"),l=i("8aa5"),d=i("14c3"),v=Math.max,u=Math.min,f=Math.floor,m=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,i){return[function(i,a){var o=c(this),n=void 0==i?void 0:i[t];return void 0!==n?n.call(i,o,a):e.call(String(o),i,a)},function(t,n){var c=i(e,t,this,n);if(c.done)return c.value;var f=o(t),m=String(this),g="function"===typeof n;g||(n=String(n));var p=f.global;if(p){var b=f.unicode;f.lastIndex=0}var y=[];while(1){var _=d(f,m);if(null===_)break;if(y.push(_),!p)break;var x=String(_[0]);""===x&&(f.lastIndex=l(m,r(f.lastIndex),b))}for(var O="",C=0,j=0;j<y.length;j++){_=y[j];for(var w=String(_[0]),S=v(u(s(_.index),m.length),0),k=[],L=1;L<_.length;L++)k.push(h(_[L]));var I=_.groups;if(g){var E=[w].concat(k,S,m);void 0!==I&&E.push(I);var B=String(n.apply(void 0,E))}else B=a(w,m,S,k,I,n);S>=C&&(O+=m.slice(C,S)+B,C=S+w.length)}return O+m.slice(C)}];function a(t,i,a,o,r,s){var c=a+t.length,l=o.length,d=g;return void 0!==r&&(r=n(r),d=m),e.call(s,d,(function(e,n){var s;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return i.slice(0,a);case"'":return i.slice(c);case"<":s=r[n.slice(1,-1)];break;default:var d=+n;if(0===d)return e;if(d>l){var v=f(d/10);return 0===v?e:v<=l?void 0===o[v-1]?n.charAt(1):o[v-1]+n.charAt(1):e}s=o[d-1]}return void 0===s?"":s}))}}))},b828:function(t,e,i){},b850:function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));i("a4d3"),i("4de4"),i("4160"),i("e439"),i("dbb4"),i("b64b"),i("ac1f"),i("5319"),i("1276"),i("159b");var a=i("2fa7");function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(i,!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var r={methods:{formatImgUrl:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Array.isArray(t)){var i=[];return t.forEach((function(t){var a=t.comingTitle;e&&(a=t.comingTitle.split(" ")[0]);var o=t.img.replace("w.h","90.130");i.push(n({},t,{comingTitle:a,img:o}))})),i}}}}},be39:function(t,e,i){"use strict";i.r(e);var a,o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.mostExpectedList.length?i("div",{staticClass:"most-expected"},[i("div",{staticClass:"title"},[t._v("近期最受期待")]),i("div",{staticClass:"expected-list"},t._l(t.mostExpectedList,(function(e,a){return i("div",{key:a},[i("router-link",{staticClass:"expected-item",attrs:{to:e.url}},[i("img",{attrs:{src:e.img,alt:""}}),i("div",{staticClass:"expected-name"},[t._v(t._s(e.nm))]),i("div",{staticClass:"expected-data"},[t._v(t._s(e.wish)+"人想看")]),i("div",{staticClass:"expected-data"},[t._v(t._s(e.comingTitle))])])],1)})),0)]):t._e(),i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":t.check},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.movieList,(function(t,e){return i("div",{key:e},[i("MovieSection",{attrs:{movie:t}})],1)})),0)],1)},n=[],r=(i("99af"),i("4160"),i("a15b"),i("fb6a"),i("b0c0"),i("159b"),i("284c")),s=i("2fa7"),c=(i("2994"),i("2bdd")),l=(i("bc3a"),i("bfd7")),d=i("b850"),v={mixins:[d["a"]],data:function(){return{movieList:[],movieIds:[],offset:200,loading:!1,finished:!1,check:!1,loadComplete:!1,mostExpectedList:[]}},components:(a={},Object(s["a"])(a,c["a"].name,c["a"]),Object(s["a"])(a,"MovieSection",l["a"]),a),created:function(){this.getMostExpectedList(),this.getComingList()},methods:{getMostExpectedList:function(){var t=this;this.$http.get("/movie/mostExpected").then((function(e){t.mostExpectedList=t.formatImgUrl(e.data.data.coming,!0),t.mostExpectedList.forEach((function(t){t.url="/movie/movie-detail?movieId=".concat(t.id)}))})).catch((function(t){console.log(t)}))},getComingList:function(){var t=this;this.$http.get("/movie/comingList").then((function(e){t.movieList=t.formatImgUrl(e.data.data.coming),t.movieIds=e.data.data.movieIds})).catch((function(t){console.log(t)}))},reachBottom:function(t,e,i){var a=this;if(!i){var o=t.length;o+10>=e.length&&(this.loadComplete=!0);var n=e.slice(o,o+10).join("%2C");this.$http.get("/movie/moreComingList?movieIds=".concat(n)).then((function(e){var i=a.formatImgUrl(e.data.data.coming);a.movieList=[].concat(Object(r["a"])(t),Object(r["a"])(i))})).catch((function(t){console.log(t)}))}},onLoad:function(){var t=this;this.loadComplete?(this.finished=!0,this.loading=!1):(this.loading=!0,this.loadBottom(),setTimeout((function(){t.loading=!1}),500))},loadBottom:function(){var t=this.movieList,e=this.movieIds,i=this.loadComplete;this.reachBottom(t,e,i)}}},u=v,f=(i("df23"),i("2877")),m=Object(f["a"])(u,o,n,!1,null,"6eb51f62",null);e["default"]=m.exports},bfd7:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("router-link",{staticClass:"movie-section",attrs:{to:t.url}},[i("img",{staticClass:"movie-img",attrs:{src:t.movie.img,alt:""}}),i("div",{staticClass:"movie-info"},[i("div",{staticClass:"movie-name"},[t._v(" "+t._s(t.movie.nm)+" "),i("span",{staticClass:"['version',movie.version]"})]),i("div",{staticClass:"movie-score"},[t.movie.globalReleased?i("div",[t.movie.sc?i("span",[t._v(" 观众评 "),i("span",{staticClass:"grade"},[t._v(t._s(t.movie.sc))])]):i("span",[t._v("暂无评分")])]):i("div",[i("span",{staticClass:"grade"},[t._v(t._s(t.movie.wish))]),t._v("人想看 ")]),i("div",{staticClass:"movie-star"},[t._v("主演："+t._s(t.movie.star))]),t.movie.rt?i("div",[t._v(t._s(t.movie.rt)+"上映")]):i("div",{staticClass:"movie-showInfo"},[t._v(t._s(t.movie.showInfo))])])]),i("div",{staticClass:"buy-tickets"},[3===t.movie.showst?i("van-button",{attrs:{type:"danger"}},[t._v("购票")]):t._e(),1===t.movie.showst?i("van-button",{attrs:{type:"warning"}},[t._v("想看")]):t._e(),4===t.movie.showst?i("van-button",{attrs:{type:"info"}},[t._v("预售")]):t._e()],1)])],1)},o=[],n=(i("b0c0"),i("2fa7")),r=(i("68ef"),i("09fe"),i("c31d")),s=i("2638"),c=i.n(s),l=i("d282"),d=i("ba31"),v=i("b1d2"),u=i("48f4"),f=i("ad06"),m=i("543e"),g=Object(l["a"])("button"),h=g[0],p=g[1];function b(t,e,i,a){var o,n=e.tag,r=e.icon,s=e.type,l=e.color,g=e.plain,h=e.disabled,b=e.loading,y=e.hairline,_=e.loadingText,x={};function O(t){b||h||(Object(d["a"])(a,"click",t),Object(u["a"])(a))}function C(t){Object(d["a"])(a,"touchstart",t)}l&&(x.color=g?l:v["d"],g||(x.background=l),-1!==l.indexOf("gradient")?x.border=0:x.borderColor=l);var j=[p([s,e.size,{plain:g,disabled:h,hairline:y,block:e.block,round:e.round,square:e.square}]),(o={},o[v["b"]]=y,o)];function w(){var a,o=[];return b?o.push(t(m["a"],{class:p("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"currentColor"}})):r&&o.push(t(f["a"],{attrs:{name:r},class:p("icon")})),a=b?_:i.default?i.default():e.text,a&&o.push(t("span",{class:p("text")},[a])),o}return t(n,c()([{style:x,class:j,attrs:{type:e.nativeType,disabled:h},on:{click:O,touchstart:C}},Object(d["b"])(a)]),[w()])}b.props=Object(r["a"])({},u["c"],{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}});var y=h(b),_={props:["movie"],computed:{url:function(){return"/movie/movie-detail?movieId="+this.movie.id}},components:Object(n["a"])({},y.name,y)},x=_,O=(i("0b54"),i("2877")),C=Object(O["a"])(x,a,o,!1,null,"42266f12",null);e["a"]=C.exports},df23:function(t,e,i){"use strict";var a=i("03c6"),o=i.n(a);o.a},fb6a:function(t,e,i){"use strict";var a=i("23e7"),o=i("861d"),n=i("e8b5"),r=i("23cb"),s=i("50c4"),c=i("fc6a"),l=i("8418"),d=i("1dde"),v=i("b622"),u=v("species"),f=[].slice,m=Math.max;a({target:"Array",proto:!0,forced:!d("slice")},{slice:function(t,e){var i,a,d,v=c(this),g=s(v.length),h=r(t,g),p=r(void 0===e?g:e,g);if(n(v)&&(i=v.constructor,"function"!=typeof i||i!==Array&&!n(i.prototype)?o(i)&&(i=i[u],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return f.call(v,h,p);for(a=new(void 0===i?Array:i)(m(p-h,0)),d=0;h<p;h++,d++)h in v&&l(a,d,v[h]);return a.length=d,a}})}}]);
//# sourceMappingURL=chunk-59fd6688.f1d68d00.js.map